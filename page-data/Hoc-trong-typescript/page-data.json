{"componentChunkName":"component---src-templates-post-js","path":"/Hoc-trong-typescript/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"lời-nói-đầu\" style=\"position:relative;\"><a href=\"#l%E1%BB%9Di-n%C3%B3i-%C4%91%E1%BA%A7u\" aria-label=\"lời nói đầu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lời nói đầu</h2>\n<p>Xin chào các bạn, bài viết trước mình đã nói qua về HOC trong Javascript. Tuy nhiên HOC sẽ được viết như nào trong Typescript</p>\n<h2 id=\"yêu-cầu-kiến-thức-cần-có\" style=\"position:relative;\"><a href=\"#y%C3%AAu-c%E1%BA%A7u-ki%E1%BA%BFn-th%E1%BB%A9c-c%E1%BA%A7n-c%C3%B3\" aria-label=\"yêu cầu kiến thức cần có permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yêu cầu kiến thức cần có</h2>\n<ul>\n<li>Javascript và cũng như chút hiểu biết về HOC trong js (<a href=\"https://nhcuongng.github.io/2020/07/28/Gioi-thieu-ve-HOC/\">tìm hiểu</a>)</li>\n<li>\n<p>Typescrip và ý nghĩa của nó. Đặc biệt trong bài này là <code class=\"language-text\">Generic class</code> (<a href=\"https://viblo.asia/p/typescript-generics-63vKjwdMZ2R\">tìm hiểu</a>)</p>\n<!--more-->\n</li>\n</ul>\n<p>*NOTE: Sắp tới mình sẽ viết về <strong>Generic*</strong></p>\n<h2 id=\"hãy-bắt-đầu-thông-qua-một-số-mục-đích-của-hoc\" style=\"position:relative;\"><a href=\"#h%C3%A3y-b%E1%BA%AFt-%C4%91%E1%BA%A7u-th%C3%B4ng-qua-m%E1%BB%99t-s%E1%BB%91-m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-hoc\" aria-label=\"hãy bắt đầu thông qua một số mục đích của hoc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hãy bắt đầu thông qua một số mục đích của HOC</h2>\n<h3 id=\"tiêm-props-mới-vào-component-con\" style=\"position:relative;\"><a href=\"#ti%C3%AAm-props-m%E1%BB%9Bi-v%C3%A0o-component-con\" aria-label=\"tiêm props mới vào component con permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><em>Tiêm</em> props mới vào component con</h3>\n<p>Đôi khi bạn muốn <em>tiêm</em> thêm prop từ một nơi nào đó, từ một <strong>global store</strong> (redux hoặc mobx), hoặc một <strong>provider</strong>. Và không muốn cứ truyền đi truyền lại props. <strong>Context</strong> là một lựa chọn tuyệt vời, NHƯNG những giá trị được truyền từ context chỉ được dùng trong <strong>render</strong> function. HOC sẽ cung cấp các giá trị đấy như là các props</p>\n<p>Đầu tiên chúng ta sẽ định nghĩa cho inject props</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">WithThemeProps</span> <span class=\"token punctuation\">{</span>\n  primaryColor<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Tiếp theo chúng ta viết một HOC như sau để dùng <code class=\"language-text\">WithThemeProps</code> mà chúng ta định nghĩa ở trên</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/**\n * T là generic type đại diện cho type props của component con\n *\n * T extends WithThemeProps nghĩa là types của props\n * con sẽ được mở rộng thêm bởi interface đã định nghĩa ở trên\n *\n * Do T mở rộng từ WithThemeProps sẽ ràng buộc cho prop truyền vào phải\n * có một prop là primaryColor\n*/</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">withTheme</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> WithThemeProps <span class=\"token operator\">=</span> WithThemeProps<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  WrappedComponent<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ComponentType<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token comment\">// Nhận vào một component (có thể là hook hoặc class với type là T)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Try to create a nice displayName for React Dev Tools.</span>\n  <span class=\"token keyword\">const</span> displayName <span class=\"token operator\">=</span>\n    WrappedComponent<span class=\"token punctuation\">.</span>displayName <span class=\"token operator\">||</span> WrappedComponent<span class=\"token punctuation\">.</span>name <span class=\"token operator\">||</span> <span class=\"token string\">\"Component\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Ở đây chúng ta tạo ra một component mới, và việc ```premade component``` sẽ được tiến hành ở đây</span>\n  <span class=\"token comment\">// Component mới có type của prop là T - đây là bước chúng ta gộp type của component con và HOC vào với nhau</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ComponentWithTheme</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Tiếp theo chúng ta có thể fecth dữ liệu hoặc truyền một giá trị props sẽ được thêm vào</span>\n    <span class=\"token keyword\">const</span> themeProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> injectedProp<span class=\"token operator\">:</span> <span class=\"token string\">\"injected\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Truyền prop được tiêm và prop được gộp lại</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>WrappedComponent <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>themeProps<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  ComponentWithTheme<span class=\"token punctuation\">.</span>displayName <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">withTheme(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>displayName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> ComponentWithTheme<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Kế đó chúng ta định nghĩa một một component <code class=\"language-text\">Button</code> và dùng HOC đã viết ở trên bọc ngoài</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">WithThemeProps</span> <span class=\"token punctuation\">{</span>\n  children<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactNode<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyButton</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React</span><span class=\"token punctuation\">.</span>Component<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> color<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>primaryColor <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          Button <span class=\"token keyword\">with</span> color\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token keyword\">this</span> Component <span class=\"token keyword\">is</span> injected props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>injectedProp<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token function\">someInternalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// The theme values are also available as props here.</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withTheme</span><span class=\"token punctuation\">(</span>MyButton<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Dùng như sau</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// Lỗi: yêu cầu prop primaryColor</span>\n<span class=\"token operator\">&lt;</span>ButtonWithTheme<span class=\"token operator\">></span>This <span class=\"token keyword\">is</span> a button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ButtonWithTheme<span class=\"token operator\">></span>\n<span class=\"token comment\">// ok</span>\n<span class=\"token operator\">&lt;</span>ButtonWithTheme primaryColor<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span><span class=\"token operator\">></span>This <span class=\"token keyword\">is</span> a button<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ButtonWithTheme<span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"exclude-một-prop-được-chỉ-định\" style=\"position:relative;\"><a href=\"#exclude-m%E1%BB%99t-prop-%C4%91%C6%B0%E1%BB%A3c-ch%E1%BB%89-%C4%91%E1%BB%8Bnh\" aria-label=\"exclude một prop được chỉ định permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exclude một prop được chỉ định</h3>\n<p>Có hai component như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">DogProps</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  owner<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Dog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">,</span> owner<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> DogProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span> Woof<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> Owner<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>owner<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">CatProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  lives<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  owner<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Cat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> lives<span class=\"token punctuation\">,</span> owner <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> CatProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">}</span>\n      Meow<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>lives<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> Owner<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>owner<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Các bạn để ý là cả hai component trên đều có props là <strong>owner</strong>. Mỗi lần dùng component chúng ta đều phải viết như sau</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token operator\">&lt;</span>Dog name<span class=\"token operator\">=</span><span class=\"token string\">\"fido\"</span> owner<span class=\"token operator\">=</span><span class=\"token string\">\"swyx\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>Cat lives<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">9</span><span class=\"token punctuation\">}</span> owner<span class=\"token operator\">=</span><span class=\"token string\">\"swyx\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>Cách viết trên khiến việc trùng lặp code diễn ra thường xuyên, đã đến lúc HOC ra tay</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/**\n * Thú thật code này khó hiểu vãi beep =)))\n * - function withOwner sẽ nhận vào một biến owner và trả lại một function mới\n * - function mới này lại return lại một component :)))\n*/</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">withOwner</span><span class=\"token punctuation\">(</span>owner<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token punctuation\">{</span> owner<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span> <span class=\"token comment\">// (1)</span>\n    Component<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ComponentType<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> Omit<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"owner\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span>Element <span class=\"token punctuation\">{</span> <span class=\"token comment\">// (2)</span>\n      <span class=\"token keyword\">const</span> newProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>props<span class=\"token punctuation\">,</span> owner <span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// (3)</span>\n      <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>newProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>(1) Đây là một Generic function\n(2) <code class=\"language-text\">Omit</code> là <code class=\"language-text\">Utility Types</code> mà TS cung cấp để loại bỏ một type chỉ định. Việc loại bỏ như này sẽ cấm component mới không được nhận props là <code class=\"language-text\">owner</code>\n(3) Gộp props component con với biến <code class=\"language-text\">owner</code> truyền vào ở trên</p>\n<p>Cách dùng HOC trên như sau</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> OwnedCat <span class=\"token operator\">=</span> <span class=\"token function\">withOwner</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cuong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Cat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span>OwnedCat lives<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">9</span><span class=\"token punctuation\">}</span> owner<span class=\"token operator\">=</span><span class=\"token string\">\"swyx\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// typeError</span>\n<span class=\"token operator\">&lt;</span>OwnedCat lives<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">9</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n\n<span class=\"token keyword\">const</span> OwnedDog <span class=\"token operator\">=</span> <span class=\"token function\">withOwner</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"John\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Dog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span>OwnedDog name<span class=\"token operator\">=</span><span class=\"token string\">\"fido\"</span> owner<span class=\"token operator\">=</span><span class=\"token string\">\"swyx\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// typeError</span>\n<span class=\"token operator\">&lt;</span>OwnedDog name<span class=\"token operator\">=</span><span class=\"token string\">\"fido\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span></code></pre></div>\n<h2 id=\"codesanboxes\" style=\"position:relative;\"><a href=\"#codesanboxes\" aria-label=\"codesanboxes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Codesanboxes</h2>\n<p>Để tiện cho các bạn đọc và thực hành cũng như tìm hiểu, mình đã chuẩn bị <a href=\"https://codesandbox.io/s/react-hoc-in-typescript-k6uqu?file=/src/HOC/withOwner.tsx\">codesandbox</a></p>\n<h2 id=\"kết-luận\" style=\"position:relative;\"><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\" aria-label=\"kết luận permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kết luận</h2>\n<p>Vậy là mình đã nói qua về HOC trong Typescript. Mỗi các viết đều có cái hay riêng. Tuy nhiên đặc điểm chung là cả hai đều rất khó học :)).\nMình sẽ không ngạc nhiên nếu mọi người không hiểu :3</p>\n<h2 id=\"nguồn\" style=\"position:relative;\"><a href=\"#ngu%E1%BB%93n\" aria-label=\"nguồn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nguồn</h2>\n<p><a href=\"https://react-typescript-cheatsheet.netlify.app/docs/hoc/intro\">https://react-typescript-cheatsheet.netlify.app/docs/hoc/intro</a></p>","excerpt":"Lời nói đầu Xin chào các bạn, bài viết trước mình đã nói qua về HOC trong Javascript. Tuy nhiên HOC sẽ được viết như nào trong Typescript…","fields":{"slug":"/Hoc-trong-typescript/"},"frontmatter":{"title":"Hoc (Higher Order Components) trong typescript","date":"August 02, 2020","tags":["typescript","react"],"description":"HOC được hiểu sơ qua như một nhà máy sản xuất component","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAC7UlEQVQ4y41T30tTYRg+/0nt7Ie2nV/f2Tlu042pk9wvcyvmUpnWLkVkDqbmxVq66dZVhSlLl114EQhBXUYQBUISRkHRhYhCqIm2ucySNXZ6zzlOdBr1cHh5eM/3fN/zvt/7YQyApiEghCqiTE7zo4hJaZaiqKqqKpIkdTqdVsJxDgAuZ46SQDDE0GSNudZs6enpcbvdHR0dfr+/tbXVarX6fL62traurq7Ozk6bzeZyudrb2yF6PB63BFFM8Ob6BlsiHh8YGIjFYoODg9FoFP4Fg8G+vj7go6OjgUCgpaUFFkQiEcinUilIYmLBnBGKBtsGg8FisYAlQgLUAlZlDoSWWgNJMGw0GoFjxxsGv2HR8Sad2TZ5C1iMMX+B/iQqtpNxthh21Wg0aqVS/lQqFVg9rT9DDJZMJtON4eHY+PjNsbFoIhFPJq/6/RX68j2fLA8a5nA689mssLFRWl0tLi8LhUJmdhZXKMD/P8QwBM0u187KijBxv5C6fXBrRFhYmALx+fP/IdZpm+32HJxc+FXa/17c2xUEIZ1O4zjO8zzLsrCFHDHm1K3A5Dlc9q217KeZwru7+4upvdxbYeZRWokrG8pobGyEicAYioDZrhDbHc07m7mtReHLq9Lai+LvTWE6k8YVOJxGlyHZNtQxRPWRXq7Zbnfmvq0LB8+Le08L+XlBWEmnH+L4YcPAKknRZiOHcfFF1ORjtGpJjyTxBbvDvbP5+cfH7uySZ/tNk5CdS0/P4Ypzh2LEaAnqUpNJFHNjS+yVkKgHM6xevCqHI5/PQ59KpVKxWASSyWSgYbKYRahaSwa9VowNjOiHnnGTX9nrKYYioQUUzcAL6e3tDYfD/f39oVAIXpLX64XnIQ4JQixiVNXE0LWLGNud0Eee8JNb3NS2PvyYqbMxhBb6AY9MU4ZarS6PF2JIgmJQXQ3KDHkxLvaan1jnMz+5O2v8g10u+R45uxmaEg84CbFWktRb6mvnP8Sm771MXv4DCtZyfWVczCoAAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/7637a5944d52118184e4617cbd5cb813/92ab1/Hoc-react-thumb.png","srcSet":"/static/7637a5944d52118184e4617cbd5cb813/92ab1/Hoc-react-thumb.png 1x,\n/static/7637a5944d52118184e4617cbd5cb813/668a7/Hoc-react-thumb.png 1.5x,\n/static/7637a5944d52118184e4617cbd5cb813/56e34/Hoc-react-thumb.png 2x"}}}}}},"pageContext":{"slug":"/Hoc-trong-typescript/","previous":{"id":"df9fd21e-6af1-533a-a195-10566b29644d","frontmatter":{"title":"Giới thiệu về HOC (Higher Order Components)","tags":["javascript"],"template":"post"},"fields":{"slug":"/Gioi-thieu-ve-HOC/"}},"next":{"id":"3b9ed41a-6b7b-5564-9664-aa3153171385","frontmatter":{"title":"Mobx - Quản lý state trong React - Part 1","tags":["react","mobx"],"template":"post"},"fields":{"slug":"/Mobx-Quan-ly-state-trong-react-part-1/"}}}},"staticQueryHashes":[]}