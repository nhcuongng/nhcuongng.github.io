{"componentChunkName":"component---src-templates-post-js","path":"/Mobx-Quan-ly-state-trong-react-Part-3/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"lời-nói-đầu\" style=\"position:relative;\"><a href=\"#l%E1%BB%9Di-n%C3%B3i-%C4%91%E1%BA%A7u\" aria-label=\"lời nói đầu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lời nói đầu</h2>\n<p>Trước đó mình đã giới thiệu cho các bạn hai bài về Mobx (part 1 và part 2) bạn đều có thể tìm kiếm trên blog của mình. Bước kế tới mình sẽ giới thiệu cho các bạn một công cụ hữu ích mà những người dùng <code class=\"language-text\">mobx</code> nên dùng đó là <code class=\"language-text\">mobx-state-tree</code>.\nMột công cụ giúp chúng ta code mobx trở nên đơn giản và rõ ràng hơn rất nhiều, ngoài ra còn rất nhiều chức năng được bổ sung để chúng ta dùng</p>\n<h2 id=\"mobx-state-tree-là-gì\" style=\"position:relative;\"><a href=\"#mobx-state-tree-l%C3%A0-g%C3%AC\" aria-label=\"mobx state tree là gì permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mobx state tree là gì?</h2>\n<p>Bản chất nó chính là dùng mobx nhưng theo một cách khác, cụ thể hơn, mst team họ gọi cách đó là <em>living tree</em> (một cây state sống). Ở các cây sẽ có các node con, có một cấu trúc định nghĩa và xử lý dữ liệu một cách rõ ràng hơn. Để bạn hiểu rõ hơn hãy nhìn ví dụ dưới đây:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> types <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mobx-state-tree\"</span>\n\n<span class=\"token comment\">// tạo một model chứa cấu trúc của dữ liệu</span>\n<span class=\"token comment\">// nhìn chúng trông thật rõ ràng phải không</span>\n<span class=\"token comment\">// khi nhìn vào ta sẽ biết Todo này sẽ chứa những dữ liệu gì</span>\n<span class=\"token comment\">// Todo này chính là một node trên một cây state</span>\n<span class=\"token keyword\">const</span> Todo <span class=\"token operator\">=</span> types\n    <span class=\"token punctuation\">.</span><span class=\"token function\">model</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Todo\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        title<span class=\"token operator\">:</span> types<span class=\"token punctuation\">.</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n        done<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">actions</span><span class=\"token punctuation\">(</span>self <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// đồng thời các phương thức xử lý cũng rất rõ ràng và dễ kiểm soát cũng như truy xuất</span>\n        <span class=\"token function\">toggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            self<span class=\"token punctuation\">.</span>done <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>self<span class=\"token punctuation\">.</span>done\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Kế đó chúng ta tạo ra một list các node Todo</span>\n<span class=\"token comment\">// Bạn cứ hiểu là các \"Todo\" chính là một một lá và \"todos\" mà chúng ta tạo ở ví dụ bên dưới là một cành cây</span>\n<span class=\"token keyword\">const</span> Store <span class=\"token operator\">=</span> types<span class=\"token punctuation\">.</span><span class=\"token function\">model</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Store\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    todos<span class=\"token operator\">:</span> types<span class=\"token punctuation\">.</span><span class=\"token function\">array</span><span class=\"token punctuation\">(</span>Todo<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Tiến hành tạo ra một cây state</span>\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> Store<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    todos<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            title<span class=\"token operator\">:</span> <span class=\"token string\">\"Get coffee\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Thật dễ hiểu phải không? Nhìn qua ví dụ bên trên ta có thể nhận thấy code dùng mst rất đơn giản, dễ bảo trì, dễ sử dụng, lại rất rõ ràng</p>\n<h3 id=\"thiết-kế-model-trong-mst\" style=\"position:relative;\"><a href=\"#thi%E1%BA%BFt-k%E1%BA%BF-model-trong-mst\" aria-label=\"thiết kế model trong mst permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thiết kế model trong MST</h3>\n<p>Quay lại ví dụ bên trên</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> Todo <span class=\"token operator\">=</span> types\n    <span class=\"token punctuation\">.</span><span class=\"token function\">model</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Todo\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        title<span class=\"token operator\">:</span> types<span class=\"token punctuation\">.</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n        done<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Để thiết kế được một model trong mst ta sẽ sử dụng <code class=\"language-text\">types</code>, mỗi <code class=\"language-text\">types</code> sẽ dùng tuỳ vào các trường hợp. Hầu hết chúnng ta đều rất quen thuộc với chúng và cũng nhiều cái mới. Mình sẽ liệt kê một số <code class=\"language-text\">types</code> cơ bản như sau:</p>\n<ul>\n<li>Types đại diện cho các dữ liệu nguyên thuỷ: <code class=\"language-text\">types.string</code>, <code class=\"language-text\">types.literal</code> (đại khái type này sẽ fix cứng dữ liệu dạng string), <code class=\"language-text\">types.number</code>, types.boolean..</li>\n</ul>","excerpt":"Lời nói đầu Trước đó mình đã giới thiệu cho các bạn hai bài về Mobx (part 1 và part 2) bạn đều có thể tìm kiếm trên blog của mình. Bước kế…","fields":{"slug":"/Mobx-Quan-ly-state-trong-react-Part-3/"},"frontmatter":{"title":"Mobx - Quản lý state trong React - Part 3","date":"September 20, 2020","tags":["react","mobx","mobx state tree"],"description":"Mobx state tree - một cách dùng nâng cao của mobx","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAEmUlEQVQ4y3WUS2wbVRSGnUaUBUgFFdFXHrbHz/G8/PaM7bHHdsaJHSexHadqAxWFtkGgFhoeIVRVqcKjwIJKVUhCVVTRbiqBVOgCKkACJF67CsGmRI2EkCiwQCwq2k7m/tyxY5MuuNLonrnnnO/+55zR2Gx0mSft1mYjS8yG5r7IRKn9AX1W6PMzfX+XvO10Wr7lF53NGBzcZvO6Jdv/LnOxBTMXmKS5xJg45wZOM8CiE3jHBfM1+2+Y6+u3Yp7M+e9iGLHL4xKbudZ+B/zGPGPD5d6WytPMZZxnQE7ab+KEnWCu38Sx3n/wah/M53vm14twu6Qur0voQJvL65JsWGiVjJUdd+MVx9WVSS++0Vjz/QRLLsUD5DvVT65XneTzmuPWlv7gJUev/0DE4+5vg/1uscNqks/vcrc82NR1Pu+98pUk4kuBX634QmQmzJNfRlz4c8JOrk468VBeRTCowsFEbnsYfslKe+D+fpvPE/xPJeMUu629p4etClwCjw8VzSNqmixm47ixrw94dgvB9Fbgqa0Ez/UYv77MGMd3JeEPpOBx+BvNkhmh+47aveHMBnp4JZUaQrY4sepSd2K+EgX2bMVy1YnlmpP8vstOjKntwCy94HiPMaFp6HdIP7xe6u3usLyuljrGwe0PiUmk8g0jp42QUqFEJjQdZ5JxvCCFoDIiPuEFfJ/246eSm6zu3U5mxzTDx2fhc7BTaz1sqXQz/D2sJ3gtLpcxWdbNH4+6cOvNHeSLwyzKgxXElCISQgxLShyPsSGcEwSykIlBH6yZqfQw/O7gipsR7u2Mn6qciYcziCSrxsdTHDC3mWBmB3B0M85MxuGJVRAOphCM5VCWc3hELSCo1kg6V0c2UzGiYQ2UMdsBBnzhr9V0Ccl8fXV2KEXeygbJtCThDYXFoXIBglyCGIgjEtOhFyqYLA3g2HiKDOWHSWagsZpOl0EZ364HnlHkIrLaqJHM1pCmPawW8vCGdDDhEkIhFbyoYlwfxPVpB3DkQfwx3UdqhSKNrRpJmhvwRc52gKw3zIq8fCujlqHmamR3UScXdgs4Mp7BwbICjlfASxmMFwZwIsfjbJHHM0MZEk2PkSzNobm3KYNrwvhAvDmZgD96SlEGkRuoGypttKwMk/caIi6MexGi/bOgYkiDRAcnp0eJkh6Blh0x5EQRHBubb7ES3TaBl7usFy4Q7xF55a90qgRVrZhabhQptUp4MUc4TgbLxkB9RNfrRNNG6TCGTat3oqD8zQVizR9Bm2XjObmpkt70UiIxAE0fv5kr1Ix8oUokKUVBgySZ1EkkmgeFkaw2ZuT0xs1EQrfUza3BWt8gNTpkWv4mal+1oMnkEGLRvEmBJJ8fgT4wBp5XSJSepajPgtHYZZpzX1udKCSpwcntXragXGIb7edBWsqnfn8M9frDxtSBQ2alstNsNPYYLBuHICifWTE0dvv63CYrwEaaKtc72osLyBeLeh2P7n0Ch5+ewf59h+DzRT9aH0OhXe1K6SWtQ/qH6Sildhd1brRsSUzZ6UAu0lKveb2Ra253+MNwOONcA2xst2qtbc38fwFLSweEBnvQ/AAAAABJRU5ErkJggg==","width":150,"height":150,"src":"/static/dec4383b214b58bd81f066b93d756967/92ab1/mst-thumb.png","srcSet":"/static/dec4383b214b58bd81f066b93d756967/92ab1/mst-thumb.png 1x,\n/static/dec4383b214b58bd81f066b93d756967/668a7/mst-thumb.png 1.5x,\n/static/dec4383b214b58bd81f066b93d756967/56e34/mst-thumb.png 2x"}}}}}},"pageContext":{"slug":"/Mobx-Quan-ly-state-trong-react-Part-3/","previous":{"id":"72006b79-d864-543d-9818-e724b30af393","frontmatter":{"title":"Redux (typescript) - Quản lý state trong React","tags":["react","typescript","redux"],"template":"post"},"fields":{"slug":"/Redux-quan-ly-state-trong-react/"}},"next":null}},"staticQueryHashes":[]}