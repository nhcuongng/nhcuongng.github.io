{"componentChunkName":"component---src-templates-post-js","path":"/chen-vao-vi-tri-da-tien-arr-mogo/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"giới-thiệu-qua-về-mongo\" style=\"position:relative;\"><a href=\"#gi%E1%BB%9Bi-thi%E1%BB%87u-qua-v%E1%BB%81-mongo\" aria-label=\"giới thiệu qua về mongo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Giới thiệu qua về mongo</h2>\n<p>Mình sẽ không nói nhiều về mongo vì trên mạng có khá nhiều rồi. Mình chỉ tóm tắt sơ lược nó là một database NO SQL (Not-Only SQL).\nNếu các bạn code node js nhiều rồi thì chắc hẳn sẽ khá biết rõ về nó. Các bạn tham khảo thêm <a href=\"https://viblo.asia/p/mongodb-la-gi-co-so-du-lieu-phi-quan-he-bJzKmgoPl9N\">ở đây</a></p>\n<h2 id=\"cách-để-chèn-phần-tử-vào-cuối-mảng\" style=\"position:relative;\"><a href=\"#c%C3%A1ch-%C4%91%E1%BB%83-ch%C3%A8n-ph%E1%BA%A7n-t%E1%BB%AD-v%C3%A0o-cu%E1%BB%91i-m%E1%BA%A3ng\" aria-label=\"cách để chèn phần tử vào cuối mảng permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cách để chèn phần tử vào cuối mảng</h2>\n<p>Hiện mongo hỗ trợ cho chúng ta phương thức <code class=\"language-text\">$push</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// Một document có dạng sau</span>\n<span class=\"token punctuation\">{</span> <span class=\"token string\">\"colors\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blue\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Giờ ta sẽ thêm vào cuối bằng method $push</span>\n<span class=\"token punctuation\">{</span> $push<span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>colors<span class=\"token operator\">:</span><span class=\"token string\">\"yellow\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// kết quả sẽ như sau</span>\n<span class=\"token punctuation\">{</span> <span class=\"token string\">\"colors\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"yellow\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"cách-để-chèn-vào-đầu-mảng\" style=\"position:relative;\"><a href=\"#c%C3%A1ch-%C4%91%E1%BB%83-ch%C3%A8n-v%C3%A0o-%C4%91%E1%BA%A7u-m%E1%BA%A3ng\" aria-label=\"cách để chèn vào đầu mảng permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cách để chèn vào đầu mảng</h2>\n<p>Nếu theo thông thường thì chúng ta sẽ phải có <code class=\"language-text\">$unshift</code> để thêm vào đầu array, tuy nhiên mongo lại không hỗ trợ, thật buồn cười phải không?\nTuy nhiên chúng ta có thể dùng cách này</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">$push<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> colors<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> $each<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'yellow'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> $position<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// kết quả mong muốn</span>\n<span class=\"token punctuation\">{</span> <span class=\"token string\">\"colors\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"yellow\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Tương tự với mảng object, xem ví dụ bên dưới</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">{</span>\n  items<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      user<span class=\"token operator\">:</span> Cuong<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      user<span class=\"token operator\">:</span> Dung<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Nếu muốn thêm một object mới chúng ta phải thêm như sau</span>\n$push<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> items<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> $each<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">:</span> Neo <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> $position<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h2>\n<p><a href=\"https://jira.mongodb.org/browse/SERVER-19974\">https://jira.mongodb.org/browse/SERVER-19974</a></p>","excerpt":"Giới thiệu qua về mongo Mình sẽ không nói nhiều về mongo vì trên mạng có khá nhiều rồi. Mình chỉ tóm tắt sơ lược nó là một database NO SQL…","fields":{"slug":"/chen-vao-vi-tri-da-tien-arr-mogo/"},"frontmatter":{"title":"Chèn vào vào vị trí đầu tiên và cuối của array trong Mongo DB","date":"October 03, 2020","tags":["javascript","mongo"],"description":"Thao tác cơ bản với array trong Mongo DB","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAABtElEQVQ4y2P4jw/8A+N/uKQZcGgCafjw/c25xwdB3H//iNcMUvr7z69pJysTl1jffH4JrP8vUZoh1i690JO43jh2oVn6fPcXHx9htR9d81+wDVdenEhZb5G1xSFlqZ1fv2bblhwS/Nx/tCBxnWnOVqfEJVaR08yDJuudurcPbjR2zRCHPf10L3uzU8ZGu+wtDkDNUdMsAidpd2zNxwx5BlQ3/wGSB+9vBFqbtckR6OzEpdYRU83Cp5kkzrF/++UFms+xaF5zZWrcGkOg5XDNUTPMQ6canXtwGM3laM4GSSw815aw1hhJs2n0DIugSboHbmyCW4DVZpDmJRe649caoWkOnqx36OZW/JpBEjtuLY1HsdkscjrI29eenSXs7Pvvr2dusoeFtnXkVLOwqUYZCz2+/vyEFuDY43nSseKEdSbAeE5YbBU93dJvgsaCw90E4hlu+YP3N0BRvdk2ZYl98CT9tAWurz8/w0yh2NI2WP+RB1uyNjlkL/UKnWJ49sEhTGtxZ0mwDScf7Z63s+fMPZy5kgFPUfD7z+8HD+79/fuXtMIAHnPPXz378+c3OZrxlCEQAAAcFRLBdYRqDwAAAABJRU5ErkJggg==","width":150,"height":150,"src":"/static/f85392c0d680699f420992815315f75f/92ab1/mongo_thumb.png","srcSet":"/static/f85392c0d680699f420992815315f75f/92ab1/mongo_thumb.png 1x,\n/static/f85392c0d680699f420992815315f75f/668a7/mongo_thumb.png 1.5x,\n/static/f85392c0d680699f420992815315f75f/56e34/mongo_thumb.png 2x"}}}}}},"pageContext":{"slug":"/chen-vao-vi-tri-da-tien-arr-mogo/","previous":{"id":"f80c58c3-1703-578b-a5d4-4e6f648f2ac4","frontmatter":{"title":"Các cách để unique một array","tags":["javascript"],"template":"post"},"fields":{"slug":"/Cac-cach-de-unique-array/"}},"next":null}},"staticQueryHashes":[]}